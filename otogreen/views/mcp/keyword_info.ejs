<div class="main-body">
  <div class="page-wrapper">
    <div class="page-header">
      <div class="page-header-title">
        <h4>키워드설정</h4>
      </div>
      <div class="page-header-breadcrumb">
        <ul class="breadcrumb-title">
          <li class="breadcrumb-item">
            <a href="/">
              <i class="fas fa-home"></i>
            </a>
          </li>
          <li class="breadcrumb-item"><a href="#!">콘텐츠관리</a></li>
          <li class="breadcrumb-item"><a href="#!">키워드설정</a></li>
        </ul>
      </div>
      <div class="page-body">
        <div class="row">
        </div>
      </div>
    </div>
    <div class="page-body">
      <div class="row">
        <div class="col-xs-12">
          <div class="col-12 col-xs-3 f-right col-xs-9 m-l-10 p-l-0 p-r-0 m-b-10 right-icon-control">
            <input type="text" class="form-control p-t-10 form-control-inverse search-text" id="searchInput">
            <div class="form-icon" id="searchBtn">
              <i class="fas fa-search"></i>
            </div>
          </div>
          <select id="selectSearchType" name="select" class="col-xs-1 form-control form-control-inverse m-r-10 m-b-10 f-right search-select">
            <option value="t">제목</option>
            <option value="c">콘텐츠ID</option>
          </select>
        </div>
        <div class="col-xs-12">
          <div class="card">
            <div class="card-block table-border-style  table-responsive">
              <div class="preloader3 loader-block">
                <div class="circ1 loader-primary"></div>
                <div class="circ2 loader-primary"></div>
                <div class="circ3 loader-primary"></div>
                <div class="circ4 loader-primary"></div>
              </div>
              <table class="table" id="listTable">
                <thead>
                  <tr>
                    <th width="1%">NO</th>
                    <th width="7%">콘텐츠제목</th>
                    <th width="7%">콘텐츠ID(CID)</th>
                    <th width="5%">검색키워드</th>
                    <th width="5%">제외키워드</th>
                    <th width="5%">상태</th>
                    <th width="5%">관리현황</th>
                    <th width="5%">관리방법</th>
                    <th width="5%" style="min-width: 150px;">키워드수정</th>
                  </tr>
                </thead>
                <tbody>
                  <% for(var i=0; i < list.length; i++) { %>
                  <tr>
                    <th><%= listCount - i - offset %></th>
                    <td><div class="title_nobr"><%= list[i].cnt_title %></div></td>
                    <td><div class="cnt_nobr"><%= list[i].cnt_id %></div></td>
                    <td><%= list[i].TCount %></td>
                    <td><%= list[i].DCount %></td>
                    <td>
                      <div class="form-radio">
                        <div class="radio radio-inline">
                          <label>
                            <input type="radio" value="1" name="k_state<%= i %>" data-kidx="<%= list[i].k_L_idx %>" class="listRadio" <%= (list[i].k_state == '1') ? 'checked' : '' %>>
                            <i class="helper"></i>정상
                          </label>
                        </div>
                        <div class="radio radio-inline">
                          <label>
                            <input type="radio" value="0" name="k_state<%= i %>" data-kidx="<%= list[i].k_L_idx %>" class="listRadio" <%= (list[i].k_state == '0') ? 'checked' : '' %>>
                            <i class="helper"></i>중지
                          </label>
                        </div>
                        <input name="oK_state<%= i %>" value="<%= list[i].k_state%>" type="hidden" class="form-control">
                      </div>
                    </td>
                    <td>
                      <div class="form-radio">
                        <div class="radio radio-inline">
                          <label>
                            <input type="radio" value="1" name="k_method<%= i %>" data-kidx="<%= list[i].k_L_idx %>" class="listRadio" <%= (list[i].k_method == '1') ? 'checked' : '' %>>
                            <i class="helper"></i>자동
                          </label>
                        </div>
                        <div class="radio radio-inline">
                          <label>
                            <input type="radio" value="0" name="k_method<%= i %>" data-kidx="<%= list[i].k_L_idx %>" class="listRadio" <%= (list[i].k_method == '0') ? 'checked' : '' %>>
                            <i class="helper"></i>수동
                          </label>
                        </div>
                        <input name="oK_method<%= i %>" value="<%= list[i].k_method%>" type="hidden" class="form-control">
                      </div>
                    </td>
                    <td>
                      <div class="form-radio">
                        <div class="radio radio-inline">
                          <label>
                            <input type="radio" value="D" name="k_apply<%= i %>" data-kidx="<%= list[i].k_L_idx %>" class="listRadio" <%= (list[i].k_apply == 'D') ? 'checked' : '' %>>
                            <i class="helper"></i>삭제/차단
                          </label>
                        </div>
                        <div class="radio radio-inline">
                          <label>
                            <input type="radio" value="T" name="k_apply<%= i %>" data-kidx="<%= list[i].k_L_idx %>" class="listRadio" <%= (list[i].k_apply == 'T') ? 'checked' : '' %>>
                            <i class="helper"></i>제휴
                          </label>
                        </div>
                        <div class="radio radio-inline">
                          <label>
                            <input type="radio" value="C" name="k_apply<%= i %>" data-kidx="<%= list[i].k_L_idx %>" class="listRadio" <%= (list[i].k_apply == 'C') ? 'checked' : '' %>>
                            <i class="helper"></i>채증
                          </label>
                        </div>
                        <div class="radio radio-inline">
                          <label>
                            <input type="radio" value="L" name="k_apply<%= i %>" data-kidx="<%= list[i].k_L_idx %>"class="listRadio" <%= (list[i].k_apply == 'L') ? 'checked' : '' %>>
                            <i class="helper"></i>보류
                          </label>
                        </div>
                        <input name="oK_apply<%= i %>" value="<%= list[i].k_apply%>" type="hidden" class="form-control">
                      </div>
                    </td>
                    <td class="text-center">
    								  <div class="btn-group btn-group-md text-center" style="padding-right: 0; display: inline-block;">
                        <button type="button" class="btn-delete btn btn-sm btn-danger waves-effect waves-light alert-confirm1" style="margin-right: 5px;" data-kidx="<%= list[i].k_L_idx %>">
        								  <span class="far fa-trash-alt"></span>
        								</button>
      							    <button type="button" class="btn-edit btn btn-sm btn-primary waves-effect waves-light" data-kidx="<%= list[i].cnt_idx %>">
        								  <span class="far fa-edit"></span>
        								</button>
    								  </div>
    								</td>
                  </tr>
                  <% }; %>
                </tbody>
                <tfoot>
                  <%
                    var limit = 20;
                    var pageCount = Math.ceil(listCount/limit);
                    if(pageCount > 1) {
                    %>
                    <tr class="footable-paging">
                      <td colspan="9">
                        <ul class="pagination">
                          <%
                            var pageSize = 5;
                            var pRCnt = parseInt(page / pageSize);
                            if(page % pageSize == 0){
                              pRCnt = parseInt(page / pageSize) - 1;
                            }
                            if(page > 5) {
                          %>
                            <li class="page-item">
                              <a class="page-link" data-value="1" aria-label="Previous">
                                <i class="ti-angle-double-left f-12"></i>
                                <span aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                              </a>
                            </li>
                            <li class="page-item">
                              <a class="page-link" data-value=="<%=(pRCnt * pageSize)%>" aria-label="Previous">
                                <i class="ti-angle-left f-12"></i>
                                <span aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                              </a>
                            </li>
                          <% } %>
                          <% for(var index=pRCnt * pageSize + 1;index<(pRCnt + 1)*pageSize + 1;index++){%>
                            <li class= "<%=(page == index) ? 'active' : ''%> page-item">
                              <a class="page-link" data-value="<%=index%>" >
                                <%= index %>
                              </a>
                            </li>
                          <%
                              if(index == pageCount) {
                                break;
                              }
                            }
                          %>
                          <% if((pRCnt + 1) * pageSize < pageCount) { %>
                            <li class="page-item">
                              <a class="page-link" data-value="<%=(pRCnt + 1)*pageSize+1%>" aria-label="Next">
                                <i class="ti-angle-right f-12"></i>
                                <span aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                              </a>
                            </li>
                            <li class="page-item">
                              <a class="page-link" data-value="<%=pageCount%>" aria-label="Next">
                                <i class="ti-angle-double-right f-12"></i>
                                <span aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                              </a>
                            </li>
                          <% } %>
                        </ul>
                      </td>
                    </tr>
                    <% } %>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
      </div>
      <!-- Modal start-->
      <div class='modal fade' id='keyword-Modal'  aria-hidden="true" tabindex="-1" role="dialog">
        <div class='modal-dialog modal-lg' role='document'>
          <div class='modal-content'>
            <div class='modal-header'>
              <h5 class="modal-title">콘텐츠 수정</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true"><i class="ti-close"></i></span>
              </button>
            </div>
            <div class='modal-body'>
              <div class='card'>
                <div class="card-block table-border-style">
                  <div class="table-border-style">
                    <div class="table-responsive">
                      <table class="table table-sm" id='modal-cnt'>
                        <tbody>
                          <input id="cntIdx_m" type="hidden" class="form-control" />
                          <tr>
                            <th class="b-r-1 text-left" width="30%">콘텐츠 제목</th>
                            <td id="m_title" class="text-left"></td>
                          </tr>
                          <tr>
                            <th class="b-r-1 text-left">상태</th>
                            <td>
                              <div class="form-radio text-left">
                                <div class="radio radio-inline">
                                  <label>
                                    <input type="radio" value="1" name="k_state" class="k_state">
                                    <i class="helper"></i>정상
                                  </label>
                                </div>
                                <div class="radio radio-inline">
                                  <label>
                                    <input type="radio" value="0" name="k_state" class="k_state">
                                    <i class="helper"></i>중지
                                  </label>
                                </div>
                                <input name="oK_state" value="" type="hidden" class="form-control">
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <th class="b-r-1 text-left">관리현황</th>
                            <td>
                              <div class="form-radio text-left">
                                <div class="radio radio-inline">
                                  <label>
                                    <input type="radio" value="1" name="k_method" class="k_method">
                                    <i class="helper"></i>자동
                                  </label>
                                </div>
                                <div class="radio radio-inline">
                                  <label>
                                    <input type="radio" value="0" name="k_method" class="k_method">
                                    <i class="helper"></i>수동
                                  </label>
                                </div>
                                <input name="oK_method" value="" type="hidden" class="form-control">
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <th class="b-r-1 text-left">관리방법</th>
                            <td>
                              <div class="form-radio text-left">
                                <div class="radio radio-inline">
                                  <label>
                                    <input type="radio" value="D" name="k_apply" class="k_apply">
                                    <i class="helper"></i>삭제/차단
                                  </label>
                                </div>
                                <div class="radio radio-inline">
                                  <label>
                                    <input type="radio" value="T" name="k_apply" class="k_apply">
                                    <i class="helper"></i>제휴
                                  </label>
                                </div>
                                <div class="radio radio-inline">
                                  <label>
                                    <input type="radio" value="C" name="k_apply" class="k_apply">
                                    <i class="helper"></i>채증
                                  </label>
                                </div>
                                <div class="radio radio-inline">
                                  <label>
                                    <input type="radio" value="L" name="k_apply" class="k_apply">
                                    <i class="helper"></i>보류
                                  </label>
                                </div>
                                <input name="oK_apply" value="" type="hidden" class="form-control">
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card"modal-xlg
                <div class="card-block table-border-style">
                  <div class="table-responsive">
                    <table class="table table-columned table-striped" id='modal-cntList'>
                      <thead>
                        <tr>
                          <th></th>
                          <th>포함검색어</th>
                          <th>제외검색어</th>
                          <th></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr id='inputKey'>
                          <th scope="row" class="centerTh">입력</th>
                          <td>
                            <input type="text" class="form-control" id="pSearch">
                            <span class="messages"><p class="text-danger error m-b-0"></p></span>
                          </td>
                          <td>
                            <input type="text" class="form-control" id="dSearch">
                            <span class="messages"><p class="text-danger error m-b-0"></p></span>
                          </td>
                          <td><button class="btn btn-success btn-sm" id="insertKeywordBtn"><i class="fas fa-plus" style="margin-right:0"></i></button></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button class="btn btn-secondary mobtn" data-dismiss='modal' aria-label='Close' type="button">취소</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Modal end-->
    </div>
  </div>
</div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sweetalert@2.1.0/dist/sweetalert.min.js"></script>
<!-- custom -->
<link rel="stylesheet" href="/pages/keyword/style.css">
<script type="text/javascript" src="/pages/keyword/info.js"></script>
